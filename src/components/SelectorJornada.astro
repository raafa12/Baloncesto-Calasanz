---
// src/components/SelectorJornada.astro
const { jornadaActual = "ultima" } = Astro.props;

// Lista de jornadas disponibles
// En un caso real, esto probablemente vendría de una base de datos
const jornadas = [
  { id: "ultima", nombre: "Última Jornada (J25)" },
  { id: "24", nombre: "Jornada 24" },
  { id: "23", nombre: "Jornada 23" }
];
---

<div class="selector-jornada bg-green-950 border border-green-800 rounded-xl p-4 mb-8">
  <h3 class="text-lg font-semibold text-white mb-4">Seleccionar Jornada:</h3>
  
  <div class="relative">
    <select
      id="jornada-selector"
      class="w-full bg-green-900 text-white border border-green-700 rounded-lg py-2 px-4 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-green-500"
    >
      {jornadas.map((jornada) => (
        <option 
          value={jornada.id} 
          selected={jornadaActual === jornada.id}
        >
          {jornada.nombre}
        </option>
      ))}
    </select>
    
    <!-- Flecha personalizada para el dropdown -->
    <div class="absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none">
      <svg class="w-5 h-5 text-green-300" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
      </svg>
    </div>
  </div>
</div>

<script>
  // Script para manejar la navegación cuando cambia la selección
  document.getElementById('jornada-selector').addEventListener('change', function() {
    window.location.href = `/resultados?jornada=${this.value}`;
  });
</script>