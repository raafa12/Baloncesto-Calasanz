---
// src/pages/resultados.astro
import Layout from '../layouts/Layout.astro';
import SectionContainer from "../components/SectionContainer.astro";
import TitleSection from "../components/TitleSection.astro";
import StatisticsIcon from "../assets/Statistics.astro";
import FeaturedPlayerIcon from "../assets/FeaturedPlayer.astro";
import ResultadosJornada from '../components/ResultadosJornada.astro';
import SelectorJornada from '../components/SelectorJornada.astro';
import ActuacionesDestacadas from '../components/ActuacionesDestacadas.astro';

// Obtener el par√°metro de jornada de la URL, o usar "ultima" como valor predeterminado
const jornadaParam = Astro.url.searchParams.get('jornada');
const jornada = jornadaParam || "ultima";
---

<Layout title="Resultados | Club Baloncesto Calasanz" description="Resultados de las jornadas del Club Baloncesto Calasanz">
  <main class="px-4 py-24">
    <SectionContainer id="resultados">
      <TitleSection>
        <StatisticsIcon class="size-8" />
        Resultados de la Jornada
      </TitleSection>
      
      <!-- Selector de Jornada -->
      <div class="mt-8">
        <SelectorJornada jornadaActual={jornada} />
      </div>
      
      <!-- Resultados de la jornada -->
      <div class="mt-8">
        <div class="bg-green-950 border border-green-800 rounded-xl overflow-hidden shadow-lg">
          <div class="p-6">
            <ResultadosJornada jornadaSeleccionada={jornada} />
          </div>
        </div>
      </div>
      
      <!-- Actuaciones Destacadas -->
      <div class="mt-24">
        <TitleSection>
          <FeaturedPlayerIcon class="size-8" />
          Actuaciones Destacadas
        </TitleSection>
        <div class="mt-8 bg-green-950 border border-green-800 rounded-xl overflow-hidden shadow-lg">
          <div class="p-6">
            <ActuacionesDestacadas jornadaSeleccionada={jornada} />
          </div>
        </div>
      </div>
    </SectionContainer>
  </main>
</Layout>